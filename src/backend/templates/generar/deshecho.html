{# djlint:off H006 #}
{% extends "base.html" %}
{% load static %}
{% block title %}
    Deshecho
{% endblock title %}
{% block content %}
    {% csrf_token %}
    {% include "components/pdfHeader.html" %}
    <div class="container w-50 my-4">
        <div class="row header-controls justify-content-center flex-column align-items-center gap-4">
            {{ form.deshechos }}
            <button class="btn btn-secondary col-2" data-action="load">Cargar deshecho</button>
            <button class="btn btn-primary col-2" data-action="pdf">Guardar pdf</button>
        </div>
    </div>
    <main class="page-container container flex-column">

        <input type="hidden" id="tramite-id" value="-1">
        <div class="pdf-container container">
            <div class="row align-items-end flex-column">
                <p id="deshecho-title"
                   class="deshecho-id w-fit m-0 me-3"
                   contenteditable="true">SP-URI-Deshecho-001-2022</p>
                {% now "d" as day %}
                {% now "F" as month %}
                {% now "Y" as year %}
                <p class="fw-bold w-fit m-0 me-3" id="fecha">{{ day }} de {{ month }} del {{ year }}</p>
                <input type="date"
                       name=""
                       id="fecha-input"
                       class="fw-bold w-fit m-0 me-3 opacity-0"/>
            </div>
            <div class="row body-row gap-4 justify-content-center">
                <h3 class="text-uppercase text-center fs-4">Informe Técnico de Deshecho</h3>
                <div class="row justify-content-center controls">
                    <label for="{{ form.placa.id_form_label }}"
                           class="col-md-auto fs-6 text-secondary">
                        Placa:
                    </label
                    >
                    {{ form.placa }}
                    <button data-action="add_placa" class="btn btn-primary col-2 fs-6">Añadir placa</button>
                    <label for="activo-serie-select" class="col-md-auto fs-6 text-secondary">
                        Serie:
                    </label
                    >
                    {{ form.serie }}
                    <button data-action="add_serie" class="btn btn-primary col-2 fs-6">Añadir serie</button>
                </div>
                <div class="table-wrapper mt-4" data-spacing="2">
                    <table id="activos-table" class="table table-striped table-responsive mb-5">
                    </table>
                </div>
                <div class="row" data-spacing="3">


                </div>
                <div class="row justify-content-center controls gap-2">
                    <button data-action="add"
                            data-target="3"
                            class="col-2 h-fit btn btn-primary">Añadir espacio</button>
                    <button data-action="substract"
                            data-target="3"
                            class="col-2 h-fit btn btn-secondary">Reducir espacio</button>
                </div>
                <div class="pdf-notes">
                    <p class="note">
                        EVALUACIÓN DE LOS ACTIVOS:  El  equipo presenta alguna o varias de las siguientes condiciones de desecho:
                    </p>
                    <ol class="condiciones-deshecho">
                        <li class="condicion">Los equipos ya sobrepasaron el tiempo de vida útil.</li>
                        <li class="condicion">Equipos en mal estado</li>
                        <li class="condicion">Rendimiento de los equipos no satisface las necesidades de la comunidad universitaria.</li>
                    </ol>
                    <p class="fw-bold">Se recomienda: DESHECHAR</p>
                    <div class="row" data-spacing="1">
                        <div class="col d-flex flex-column text-center">
                            <p class="m-0">José Alexander Vargas Campos</p>
                            <p class="m-0">Revisión          Técnica</p>
                        </div>
                        <div class="col d-flex flex-column text-center">
                            <p class="m-0">Julio Rayo Arce</p>
                            <p class="m-0">VB Encargado Área TI.</p>
                        </div>
                    </div>
                    <div class="row justify-content-center controls gap-2">
                        <button data-action="add" data-target="1" class="col-2 h-fit btn btn-primary">Añadir espacio</button>
                        <button data-action="substract"
                                data-target="1"
                                class="col-2 h-fit btn btn-secondary">Reducir espacio</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="container justify-content-center my-4">
            <div class="row justify-content-center gy-3">
                <button data-action="subir-deshecho" class="btn btn-primary col-7">Subir deshecho</button>
                <button data-action="editar-deshecho" class="btn btn-secondary col-7 d-none">Editar deshecho</button>
            </div>
        </div>
    </main>
{% endblock content %}
{% block script %}
    <script language="javascript">
	const tramitesView = "{% url 'tramites-list'%}";
	const plaqueadosView = `{% url 'plaqueados-list' %}`;
    const noPlaqueadosView = `{% url 'no_plaqueados-list' %}`
	const deshechosView = `{% url 'deshecho-list'%}`;
	 
 
    </script>
    <script src="{%static 'dist/js/generar/globals.js'%}"></script>
    <script src="{%static 'dist/js/generar/deshecho.js'%}"></script>

    <script src="{% static 'js/deshecho.bundle.js' %}"></script>
{% endblock script %}
